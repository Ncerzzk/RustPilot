# 仿真

## Overview
本章介绍如何RustPilot如何与Gazebo进行飞行器软件仿真。

当前仅支持四旋翼x3的仿真。

要支持在gazebo中仿真，其中要解决坐标系的差异问题。二者的坐标系定义可见坐标系章节。

首先明确，什么是姿态？

如果一个飞行器从初始状态开始，进行了一定的旋转运动 到另一个确定状态。那么此时我们说的姿态是什么？

有人说是此时飞行器的欧拉角：俯仰角、横滚角、偏航角。但这其实不够直接，真正直接其实是这些欧拉角表达的 旋转

也就是，从一个状态，到另一个状态，我们所说的姿态，其实是在说：它是怎么旋转过去的。我们关心的其实只是这个旋转。

既然关心的是旋转，那么我们就可以有多种方式来表达旋转，比如欧拉角、旋转矩阵、四元数、轴角等。关于这些表达方式的优劣，这里不再赘述，我们这里统一用四元数+ 轴角来描述。

那么此时，在仿真世界中有一架飞行器，此时至少有两个机体坐标系，分别是RustPilot的坐标系和仿真器的坐标系。

处于简单起见，我们定义世界坐标系与飞行器初始状态下在RustPilot中的坐标系重合。





